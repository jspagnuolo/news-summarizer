{{ define "title" }}{{ .Site.Title }} - Latest News Summaries{{ end }}

{{ define "main" }}
<div class="home">
    <h1>Latest News Summaries</h1>

    {{ $pages := where .Site.RegularPages "Section" "summaries" }}
    {{ range first 10 $pages }}
    <article class="summary-card">
        <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        <div class="summary-meta">
            <span>📅 {{ .Date.Format "January 2, 2006" }}</span>
            <span>🏷️ {{ .Params.topicName }}</span>
            <span>📰 {{ .Params.articleCount }} articles</span>
        </div>
        <div class="summary-excerpt">
            {{ .Summary }}
        </div>
        <a href="{{ .Permalink }}" class="read-more-btn">Read Full Summary →</a>
    </article>
    {{ else }}
    <p style="text-align: center; color: #6b7280; padding: 3rem;">
        No summaries available yet. The first summaries will appear after the worker runs.
    </p>
    {{ end }}

    {{ if gt (len $pages) 10 }}
    <div style="text-align: center; margin-top: 2rem;">
        <a href="{{ "/archive/" | absURL }}" style="display: inline-block; padding: 0.75rem 1.5rem; background-color: #2563eb; color: white; text-decoration: none; border-radius: 4px;">
            View All Summaries
        </a>
    </div>
    {{ end }}
</div>
{{ end }}
