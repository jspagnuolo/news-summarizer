{{ define "title" }}{{ .Site.Title }} - Latest News Summaries{{ end }}

{{ define "main" }}
<div class="home">
    <h1>Latest News Summaries</h1>

    {{ $pages := where .Site.RegularPages "Section" "summaries" }}
    {{ range first 10 $pages }}
    <article class="summary-card">
        <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        <div class="summary-meta">
            <span>📅 {{ .Date.Format "January 2, 2006" }}</span>
            <span>🏷️ {{ .Params.topicName }}</span>
            <span>📰 {{ .Params.articleCount }} articles</span>
        </div>
        <div class="summary-excerpt">
            {{ .Summary }}
        </div>
        <a href="{{ .Permalink }}" class="read-more-btn">Read Full Summary →</a>
    </article>
    {{ else }}
    <p class="empty-state">
        No summaries available yet. The first summaries will appear after the worker runs.
    </p>
    {{ end }}

    {{ if gt (len $pages) 10 }}
    <div class="cta-wrapper">
        <a href="{{ "/archive/" | absURL }}" class="cta-button cta-button--primary">
            View All Summaries
        </a>
    </div>
    {{ end }}
</div>
{{ end }}
